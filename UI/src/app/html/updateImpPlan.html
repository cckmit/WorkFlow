<style>
    md-input-container.md-block {
        /* margin-top:10px; */
    }

    .md-select-value *:first-child {
        flex: initial;
        width: 100%;
    }

    .select2-results__option[aria-selected=true] {
        display: none;
    }
</style>
<!-- Content Header (Page header) -->
<section class="content-header">

    <!-- <ol class="breadcrumb">
        <li><a><i class="fa fa-dashboard"></i> Dashboard</a></li>
        <li class="active">Contact Me</li>
    </ol> -->
</section>
<!-- Main content -->
<section class="content animated slideInLeft scrollingFunction" id="scroll_function">
    <div class="row">
        <div class="col-md-12">
            <div ng-show="planAuthorize" class="well scrollview" style="background-color:#fff">
                <form ng-init="vm.showCategoryType = true;" name="vm.impPlanForm">
                    <md-content class="row" style="overflow: inherit;">
                        <div style="position:absolute;right: 0px;top:-15px;z-index: 10;">
                            <md-button ng-click="goBack()" aria-label="cancelBtn" class="md-raised  planCancelBtn"
                                ng-disabled="http_loading" style="background: white;color: black;">
                                Cancel
                            </md-button>
                            <md-button ng-click="vm.submitImpPlanForm(vm.impPlan, $event)" aria-label="updateBtn"
                                class="md-raised  planSaveBtn" ng-disabled="vm.updateButtonDisabled"
                                style="background: #009688;color: white;">
                                <!--<i class="fa fa-save"></i> -->
                                <span ng-if="vm.loader.update">
                                    <i class="fa fa-spinner fa-pulse" style="color:white"></i>
                                </span>
                                <span ng-if="!vm.loader.update">Update</span>
                            </md-button>
                        </div>
                        <div class="col-md-10">
                            <div class="row">
                                <div class="col-md-3">
                                    <label>Implementation Plan ID
                                    </label>
                                    <md-input-container class="md-icon-float md-block mdIChange">
                                        <input type="text" class="margin-top-10" aria-label="planid"
                                            ng-model="vm.impPlan.id" style="color: green;font-weight: bold;" disabled />
                                    </md-input-container>
                                </div>
                                <div class="col-md-4">
                                    <label>Application Developer Lead
                                        <span class="requiredField">*</span>
                                    </label>
                                    <md-input-container class="md-icon-float md-block mdIChange multipleSelect2"
                                        style="margin-bottom: 15px;">
                                        <select ng-disabled="vm.validateADLChanged()" aria-label="createdby"
                                            id="createdby" ng-model="vm.impPlan.leadId" class="form-control"
                                            multiple="multiple">
                                            <option value="" ng-if="0"></option>
                                            <option ng-value="dv.id"
                                                ng-repeat="dv in vm.createdByList | orderBy:'displayName'"
                                                ng-selected="dv.id == vm.impPlan.leadId">
                                                {{ dv.displayName }}
                                            </option>
                                        </select>
                                    </md-input-container>
                                    <!-- <md-input-container class="md-icon-float md-block mdIChange">
                                        <input type="text" class="margin-top-10" aria-label="createdby" ng-model="vm.impPlan.createdBy" style="color: green;font-weight: bold;" disabled/>
                                    </md-input-container> -->
                                </div>
                                <div class="col-md-4">
                                    <label>Status
                                    </label>
                                    <md-input-container class="md-icon-float md-block mdIChange"
                                        style="margin-bottom: 15px;">
                                        <select disablefield plan-disable="{{disablePlanStatus}}"
                                            aria-label="planstatus"
                                            ng-init="vm.impPlan.planStatus=vm.responseData.planStatus"
                                            ng-model="vm.impPlan.planStatus" class="form-control">
                                            <option ng-value="" ng-if="false"></option>
                                            <option value="{{statusKey}}" disable-option="{{ statusKey }}"
                                                actual={{vm.responseData.planStatus}}
                                                ng-selected="statusKey == vm.responseData.planStatus"
                                                ng-repeat="(statusKey,statusValue) in vm.planStatusList">
                                                {{ statusValue }}
                                            </option>
                                        </select>
                                    </md-input-container>
                                </div>
                                <div class="col-md-1"></div>
                            </div>
                            <div class="row">
                                <div class="col-md-7">
                                    <label>Company
                                        <span class="requiredField">*</span>
                                    </label>
                                    <md-input-container class="md-icon-float md-block" style="margin-bottom: 0px;">
                                        <md-radio-group layout="row" ng-model="vm.impPlan.platformId">
                                            <md-radio-button disablefield aria-label="platform"
                                                ng-disabled="vm.companyRadioEdit()"
                                                ng-click="userRole === 'QA' || selectedPlatform(pValue.platformId)"
                                                ng-value="{{pValue.id}}" ng-repeat="pValue in vm.pList">
                                                {{pValue.name}}
                                            </md-radio-button>
                                        </md-radio-group>
                                    </md-input-container>
                                </div>
                                <div class="col-md-5">
                                    <div ng-show="vm.showSystem">
                                        <label>Target system (s)
                                            <span class="requiredField">*</span>
                                        </label>
                                        <md-input-container class="md-icon-float md-block spacingTwo">
                                            <div layout="row">
                                                <md-checkbox name="{{system.id}}" class="check_{{system.name}} custom"
                                                    data-id="{{system.id}}"
                                                    ng-change="selectSystems(system.id,system.name)"
                                                    ng-value="system.id"
                                                    ng-disabled="vm.blockedSystems.indexOf(system.name) >= 0 || formDisabled || vm.checkboxEdit(system.id)"
                                                    ng-model="vm.impPlan.systems[system.id]"
                                                    ng-repeat="system in vm.systemsList"
                                                    ng-class="vm.impPlan.systems[system.id] ? 'md-checked' : ''"
                                                    aria-label="systems_{{system.id}}">
                                                    {{system.name}}
                                                </md-checkbox>
                                            </div>
                                        </md-input-container>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-12 row">
                            <fieldset>
                                <legend>
                                    Project Details
                                </legend>
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="row">
                                            <div class="col-md-12">
                                                <label>Load type
                                                    <span class="requiredField">*</span>
                                                </label>

                                                <!-- ng-disabled="userRole == 'QA'" -->
                                                <md-input-container class="md-icon-float md-block">
                                                    <md-radio-group disablefield layout="row"
                                                        system-disable="{{loadTypeDisable}}"
                                                        ng-model="vm.impPlan.loadType" ng-change="vm.chooseLoadType()">
                                                        <md-radio-button
                                                            ng-disabled="userRole == 'QA' || userRole == 'DLCoreChangeTeam'"
                                                            ng-repeat="(lTKey, lTValue) in vm.loadTypeList"
                                                            ng-click="vm.showCategoryType = true" value="{{lTKey}}">
                                                            {{lTValue}}
                                                            <!-- <md-radio-group  layout="row" system-disable="{{disableSystemStatus}}" ng-model="vm.impPlan.loadType" ng-change="vm.chooseLoadType()">
                                                        <md-radio-button disablefield ng-repeat="(lTKey, lTValue) in vm.loadTypeList" ng-click="vm.showCategoryType = true" value="{{lTKey}}">{{lTValue}} -->
                                                        </md-radio-button>
                                                    </md-radio-group>
                                                </md-input-container>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <!-- ng-change="changeMacroHeader(vm.impPlan.macroHeader)" -->
                                            <div class="col-md-12">
                                                <div class="col-md-6">
                                                    <label>Deployment type</label>
                                                    <md-input-container class="md-icon-float md-block">
                                                        <md-checkbox ng-disabled="userRole == 'QA' || userRole == 'DLCoreChangeTeam'"
                                                            ng-model="vm.impPlan.macroHeader"
                                                            ng-change="changeMacroHeader(vm.impPlan.macroHeader)"
                                                            aria-label="macroHeader"> Macro/Header/Include - Only
                                                        </md-checkbox>
                                                    </md-input-container>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- <div class="row" -->
                                        <!-- ng-if="vm.impPlan.platformId == '2_Delta' || !vm.impPlan.macroHeader"> -->
                                        <!-- <div class="col-md-12"> -->
                                        <!-- <div class="col-md-6"> -->
                                        <!-- <label>RFC Applicable -->
                                        <!-- </label> -->
                                        <!-- <md-input-container class="md-icon-float md-block"> -->
                                        <!-- <md-checkbox ng-disabled="userRole == 'DLCoreChangeTeam'" -->
                                        <!-- ng-model="vm.impPlan.rfcFlag" ng-check=true -->
                                        <!-- aria-label="rfc"> RFC -->
                                        <!-- </md-checkbox> -->
                                        <!-- </md-input-container> -->
                                        <!-- </div> -->
                                        <!-- </div> -->
                                        <!-- </div> -->
                                        <div class="row">
                                            <div class="col-md-6">
                                                <label>Project Number
                                                    <span class="requiredField">*</span>
                                                </label>
                                                <md-input-container
                                                    class="md-icon-float md-block mdIChange multipleSelect2"
                                                    style="margin-bottom: 15px;">
                                                    <select disablefield system-disable="{{csrNumDisable}}"
                                                        aria-label="csrnum" id="csrId" class="form-control"
                                                        multiple="multiple"
                                                        ng-disabled="userRole == 'DLCoreChangeTeam'">
                                                    </select>
                                                </md-input-container>
                                            </div>
                                            <div class="col-md-6">
                                                <label>Dependencies</label>
                                                <md-input-container class="md-icon-float md-block mdIChange">
                                                    <input disablefield id="relatedPlan" type="text"
                                                        name="relatedImplPlans" aria-label="sdmtktnum"
                                                        ng-model="vm.impPlan.relatedPlans"
                                                        ng-disabled="userRole == 'DLCoreChangeTeam'" />
                                                </md-input-container>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-12">
                                                <label>Description of change
                                                    <span class="requiredField">*</span>
                                                </label>
                                                <md-input-container
                                                    class="md-icon-float md-block mdIChange spacingThree">
                                                    <textarea
                                                        ng-disabled="checkPlanDescAndLoadAttDisable(vm.impPlan.planStatus)"
                                                        aria-label="plandesc" name="descriptionOC"
                                                        ng-model="vm.impPlan.planDesc"></textarea>
                                                </md-input-container>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-6">
                                                <label>Problem ticket number</label>
                                                <span ng-if="vm.impPlan.maintanceFlag == 'Yes'"
                                                    class="requiredField">*</span>
                                                <md-input-container class="md-icon-float md-block mdIChange">
                                                    <!--<ul id="probTktNo">-->

                                                    <!--</ul>-->
                                                    <input disablefield name="tags" id="probTktNo"
                                                        aria-label="probTktNo"
                                                        ng-disabled="userRole == 'DLCoreChangeTeam'">
                                                    <!--<input type="text" name="probTktNo"-->
                                                    <!--aria-label="sdmtktnum"-->
                                                    <!--ng-model="vm.impPlan.sdmTktNumber"/>-->
                                                    <span class="requiredField" ng-show="vm.showTtktNumberError"
                                                        style="font-style: italic;">{{vm.ticketErrorMessage}}</span>
                                                </md-input-container>
                                            </div>
                                            <div class="col-md-6">
                                                <label>Dev Manager
                                                    <span class="requiredField">*</span>
                                                </label>
                                                <md-input-container
                                                    class="md-icon-float md-block mdIChange multipleSelect2"
                                                    style="margin-bottom: 15px;">
                                                    <select disablefield system-disable="{{disableDevManager}}"
                                                        aria-label="approver" id="approver"
                                                        ng-model="vm.impPlan.devManager" class="form-control"
                                                        multiple="multiple"
                                                        ng-disabled="userRole == 'DLCoreChangeTeam'">
                                                        <option value="" ng-if="0"></option>
                                                        <option ng-value="dv.id"
                                                            ng-repeat="dv in vm.devManagerList | orderBy :'displayName'"
                                                            ng-selected="dv.id == vm.impPlan.devManager">
                                                            {{ dv.displayName }}
                                                        </option>
                                                    </select>
                                                </md-input-container>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6" style="border-left:1px solid #eee;">
                                        <div class="row">
                                            <div class="col-md-8">
                                                <label>Project name
                                                </label>
                                                <md-input-container class="md-icon-float md-block mdIChange">
                                                    <input disablefield type="text" aria-label="projectname"
                                                        ng-model="vm.impPlan.projectName" class="projectName"
                                                        style="color: green;font-weight: bold;" disabled />

                                                </md-input-container>
                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-8">
                                                <label>LoB(Line of Business)</label>
                                                <md-input-container class="md-icon-float md-block mdIChange sizeError">
                                                    <input disablefield type="text" aria-label="lob"
                                                        ng-model="vm.impPlan.lobName" class="lob"
                                                        style="color: green;font-weight: bold;" disabled />
                                                </md-input-container>
                                            </div>
                                            <div class="col-md-4">

                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-6" ng-if="vm.impPlan.isDeltaFlag">
                                                <label>Project manager name</label>
                                                <md-input-container class="md-icon-float md-block mdIChange">
                                                    <input disablefield type="text" name="projMngrId" aria-label="pmid"
                                                        style="color: green;font-weight: bold;"
                                                        ng-model="vm.impPlan.projectManagerName" disabled />
                                                </md-input-container>
                                            </div>
                                            <div class="col-md-6" ng-if="!vm.impPlan.isDeltaFlag">
                                                <label>Project manager name</label>
                                                <md-input-container class="md-icon-float md-block mdIChange">
                                                    <input type="text" aria-label="pmid"
                                                        ng-model="vm.impPlan.projectManagerId" class="projMngrId"
                                                        style="color: green;font-weight: bold;" disabled />
                                                </md-input-container>
                                            </div>
                                            <div class="col-md-6">
                                                <label>Project Sponsor name</label>
                                                <md-input-container class="md-icon-float md-block mdIChange">
                                                    <input disablefield type="text" name="projSpnsrId"
                                                        style="color: green;font-weight: bold;"
                                                        aria-label="prjsponsorid" ng-model="vm.impPlan.projectSponsorId"
                                                        disabled />
                                                </md-input-container>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-12">
                                                <label>Comments</label>
                                                <md-input-container class="md-icon-float md-block spacingTwo">
                                                    <textarea disablefield name="managementComment"
                                                        aria-label="managementComment"
                                                        ng-disabled="userRole == 'DLCoreChangeTeam'"
                                                        ng-model="vm.impPlan.mgmtComment"></textarea>
                                                </md-input-container>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-3">
                                            <label>Stakeholder(s) to be notified for Production deployment
                                                (Activate/Deactivate):</label>
                                            <md-input-container class="md-icon-float md-block mdIChange spacingThree">
                                                <input disablefield aria-label="stackHolderEmail" name="stackholder"
                                                    ng-model="vm.impPlan.stackHolderEmail"
                                                    ng-disabled="userRole == 'DLCoreChangeTeam'">
                                            </md-input-container>
                                        </div>
                                    </div>
                                </div>
                            </fieldset>
                        </div>
                        <div class="col-md-12 row">
                            <fieldset ng-show="vm.showSystemDetails" ng-repeat="sList in vm.systemDetailsList"
                                style="position:relative;" aria-label="{{sList.name}}">
                                <legend>{{sList.name}}</legend>
                                <span ng-if="vm.impPlan.loadType=='STANDARD'" class="text-primary bold"
                                    style="position: absolute;right: 10px;top: 25px;">Selected Load date/time :
                                    {{vm.impPlan.system[sList.id].loadDateTime | shrinkTimezone}}
                                </span>
                                <span ng-if="vm.impPlan.loadType=='EXCEPTION' || vm.impPlan.loadType== 'EMERGENCY'"
                                    class="text-primary bold" style="position: absolute;right: 10px;top: 25px;">Selected
                                    Load date/time : {{vm.impPlan.system[sList.id].exceptionLoaddate}}
                                    {{vm.impPlan.system[sList.id].exceptionLoadtime}}
                                    {{timeZone}}</span>
                                <div class="row">
                                    <div class="col-md-3" ng-show="vm.impPlan.loadType == null || vm.showLoadWindow">
                                        <label class="labelRedefine">Load Window
                                            <span class="requiredField">*</span>
                                        </label>
                                        <label style="color:#9E9E9E;" ng-if="vm.impPlan.loadType == null">Choose Load
                                            Type
                                        </label>
                                        <md-input-container class="md-icon-float md-block"
                                            ng-if="vm.impPlan.loadType == 'STANDARD' || vm.impPlan.loadType == 'EXCEPTION' || vm.impPlan.loadType== 'EMERGENCY'">
                                            <md-radio-group disablefield system-disable="{{disableSystemStatus}}" 
                                                layout="row" ng-model="vm.impPlan.system[sList.id].loadWindowType">
                                                <md-radio-button ng-disabled="disableLCandTSD(vm.prodStatusLabel,sList.id) || vm.companyRadioEdit()"
                                                    ng-click="userRole === 'QA' || vm.selectByDate(sList.id,sList.name)"
                                                    value="1">By Date
                                                </md-radio-button>
                                                <md-radio-button ng-disabled="disableLCandTSD(vm.prodStatusLabel,sList.id) || vm.companyRadioEdit()"
                                                    ng-click="userRole === 'QA' || vm.selectByCategory(sList.id,sList.name);"
                                                    value="2">By Category
                                                </md-radio-button>
                                            </md-radio-group>
                                        </md-input-container>

                                    </div>
                                    <div class="col-md-3" ng-show="vm.showLoadDate[sList.id]">
                                        <label class="">Load date
                                            <span class="requiredField">*</span>
                                        </label>
                                        <div class="input-group" style="width: 100%;" >
                                            <input disablefield system-disable="{{formDisabled}}" type="text" ng-disabled="disableLCandTSD(vm.prodStatusLabel,sList.id)"
                                                name="loadCDate" aria-label="loadCDate" class="form-control" id="loadDatefields"
                                                ng-model="vm.impPlan.system[sList.id].loaddate" readonly>
                                            <span ng-if="showCalendarIcon()" class="input-group-addon"
                                                ng-click="vm.showDateCalendar($event,sList.id)"
                                                ng-disabled="userRole == 'DLCoreChangeTeam'">
                                                <i class="fa fa-calendar" style="color:#000;"></i>
                                            </span>
                                        </div>

                                    </div>
                                    <div class="col-md-3 ip" ng-show="vm.showExceptionLoadDate[sList.id]">
                                        <label>Load date
                                            <span class="requiredField">*</span>
                                        </label>
                                        <input disablefield system-disable="{{disableSystemStatus}}" ng-disabled="disableLCandTSD(vm.prodStatusLabel,sList.id)"
                                            style="margin-bottom:10px;" class="form-control"
                                            ng-model="vm.impPlan.system[sList.id].exceptionLoaddate"
                                            ng-model-options="{ updateOn: 'blur' }" placeholder="Choose date"
                                            moment-picker="vm.impPlan.system[sList.id].exceptionLoaddate"
                                            format="MM-DD-YYYY" selectable="vm.isSelectable(date, type ,sList.id)"
                                            min-date="vm.exMomentstartdate[sList.id]" min-view="month"
                                            change="vm.onDateSelect(newValue, oldValue, sList.id)">
                                    </div>
                                    <div class="col-md-3" ng-show="vm.showLoadCategory[sList.id]">
                                         <label>Load Category
                                            <span class="requiredField">*</span>
                                            <span style="color:#aaa;"
                                                ng-if="vm.loadWindowCategories[sList.id].length == 0 || vm.loadWindowCategories[sList.id] == null">
                                                No data found</span>
                                        </label>
                                        <!--<pre>{{vm.loadWindowCategories[sList.id] | json}}</pre>-->
                                        <select ng-if="!vm.impPlan.macroHeader" disablefield 
                                            macroHeaderDisableIndicator="{{(vm.impPlan.macroHeader && !vm.disableLoadCategorybyMacroHeader[sList.id]) && vm.impPlan.planStatus!= 'ACTIVE' ? true : false}}"
                                            loadsCategoryFormDisable lcFormDisable="{{formDisabled}}"
                                            name="loadCategories" ng-model="vm.impPlan.system[sList.id].loadCategoryId"
                                            class="form-control" ng-change="vm.loadWindowCalendar(sList.id)">
                                            <option value="">Select</option>
                                            <option
                                                ng-hide="{{loadCategory.name === 'M' || loadCategory.active ==='N' }}"
                                                value="{{loadCategory.id}}" title="{{loadCategory.description}}"
                                                ng-selected="vm.responseData.system[sList.id].loadCategoryId == loadCategory.id"
                                                ng-repeat="loadCategory in vm.loadWindowCategories[sList.id] | orderBy:'name'"
                                                aria-label="{{sList.name}}_{{loadCategory.name}}">
                                                {{ loadCategory.name }}
                                            </option>
                                        </select>
                                        <select disabled ng-if="vm.impPlan.macroHeader" name="loadCategories" 
                                            ng-model="vm.impPlan.system[sList.id].loadCategoryId" class="form-control">
                                            <option ng-selected="{{loadWCategory.name == 'M'}}"
                                                value="{{loadWCategory.id}}"
                                                ng-repeat="loadWCategory in vm.loadWindowCategories[sList.id]">M
                                            </option>
                                            <!-- <option  ng-selected="{{loadWCategory.id == 69}}" value="{{loadWCategory.id}}" title="{{loadWCategory.description}}" ng-repeat="loadWCategory in vm.loadWindowCategories[sList.id] track by $index"
                                                aria-label="{{sList.name}}_{{loadWCategory.name}}">
                                                {{ loadWCategory.name }}
                                            </option> -->
                                        </select>
                                    </div>
                                    <div class="col-md-3" ng-show="vm.showCategoryLoadDate[sList.id]">
                                        <label class="">Load date
                                            <span class="requiredField">*</span>
                                        </label>

                                        <div class=" input-group" style="width: 100%;">
                                            <input disablefield system-disable="{{disableSystemStatus}}" type="text" ng-disabled="disableLCandTSD(vm.prodStatusLabel,sList.id)"
                                                aria-label="loadCalendar" class="form-control"
                                                ng-model="vm.impPlan.system[sList.id].loadCategoryDate" readonly>
                                            <span ng-if="showCalendarIcon()" class="input-group-addon input-addition"
                                                ng-click="vm.showLoadCalendar($event,sList.id)">
                                                <i class="fa fa-calendar" style="color:#000;"></i>
                                            </span>
                                        </div>
                                        <!--<div class="row spacingFour">-->
                                        <!--<div class="col-md-10" style="padding-right:0px;">-->
                                        <!--<md-input-container-->
                                        <!--class="md-icon-float md-block mdIChange">-->
                                        <!--<input type="text" name="loadCalendar"-->
                                        <!--aria-label="loadCalendar"-->
                                        <!--ng-model="vm.impPlan.system[sList.id].loadCategoryDate" readonly/>-->
                                        <!--</md-input-container>-->
                                        <!--</div>-->
                                        <!--<div class="col-md-2">-->
                                        <!--<i ng-click="vm.showLoadCalendar($event,sList.id)"-->
                                        <!--style="font-size: 25px;"-->
                                        <!--class="fa  fa-calendar"></i>-->
                                        <!--</div>-->
                                        <!--</div>-->
                                    </div>
                                    <div class="col-md-3" ng-show="vm.showLoadTime[sList.id]">
                                        <label>Load Time
                                            <span class="requiredField">*</span>
                                            <span style="color:#aaa;"
                                                ng-if="vm.loadTime[sList.id].length == 0 || vm.loadTime[sList.id] == null">
                                                No data found</span>
                                        </label>
                                        <!--<pre>{{vm.loadCategories | json}}</pre>-->
                                        <select disablefield system-disable="{{disableLoadTime}}" name="loadTime" 
                                            ng-model="vm.impPlan.system[sList.id].loadDateTime" class="form-control"
                                            ng-change="vm.chooseLoadTime(sList.id)">
                                            <option value="">Select</option>
                                            <option ng-value="lT.timeSlot"
                                                ng-repeat="lT in vm.loadTime[sList.id] | orderBy: 'timeSlot' track by $index"
                                                ng-selected="lT.timeSlot == vm.impPlan.system[sList.id].loadDateTime">
                                                {{ lT.timeSlot | getTimeslot }}
                                            </option>
                                        </select>
                                    </div>
                                    <div class="col-md-3 ip" ng-show="vm.showExceptionLoadTime[sList.id]">
                                        <label>Load Time
                                            <span class="requiredField">*</span>
                                        </label>
                                        <input disablefield system-disable="{{disableLoadTime}}"
                                            class="form-control"
                                            ng-model="vm.impPlan.system[sList.id].exceptionLoadtime"
                                            change="vm.chooseExpLoadTime(sList.id,vm.impPlan.system[sList.id].exceptionLoaddate,vm.impPlan.system[sList.id].exceptionLoadtime)"
                                            ng-model-options="{ updateOn: 'blur' }" placeholder="Choose time"
                                            format="HH:mm" locale="de"
                                            moment-picker="vm.impPlan.system[sList.id].exceptionLoadtime">
                                    </div>
                                </div>
                                <span
                                    ng-if="vm.loadChanged[sList.id] && !vm.impPlan.macroHeader && !vm.validateloadChanged()"
                                    class="text-warning">
                                    Rebuild the source artifacts and regenerate the loadsets to pull in the latest
                                    dependencies
                                </span>
                                <div class="row">
                                    <div class="col-md-3">
                                        <label>Load attendee (Primary contact)
                                            <span ng-if="!vm.impPlan.macroHeader" class="requiredField">*</span>
                                        </label>
                                        <md-input-container class="md-icon-float md-block multipleSelect2">
                                            <select ng-disabled="checkPlanDescAndLoadAttDisable(vm.impPlan.planStatus)"
                                                name="loadAttendee" select2single
                                                ng-model="vm.impPlan.system[sList.id].loadAttendee" class="form-control"
                                                multiple="multiple" aria-label="loadAttendee">
                                                <option ng-value="item.id"
                                                    ng-repeat="item in vm.loadAttendeeList | orderBy:'displayName'"
                                                    ng-selected="item.id == vm.impPlan.system[sList.id].loadAttendee">
                                                    {{ item.displayName }}
                                                </option>
                                            </select>
                                        </md-input-container>
                                    </div>
                                    <div class="col-md-3">
                                        <label>zTPF Level &nbsp;
                                            <label ng-if="vm.systemDefaults[sList.id].defaultPutForSystem"
                                                class="label label-info">{{vm.systemDefaults[sList.id].defaultPutForSystem}}</label>
                                            <!-- <span style="color:#aaa;"
                                                  ng-if="vm.putLevels[sList.id].length == 0 || vm.putLevels[sList.id] == null">No data found</span> -->
                                        </label>
                                        <div class="input-group" style="margin-top: 6px;">
                                            <span class="input-group-addon"
                                                style="padding-right: 2px;border: 1px solid #eee;">
                                                <md-checkbox
                                                    ng-disabled="userRole == 'QA' || (vm.impPlan.system[sList.id].allowPutLevelChange != null && !vm.impPlan.system[sList.id].allowPutLevelChange)"
                                                    disablefield ng-model="vm.impPlan.system[sList.id].putIndicator"
                                                    style="margin-bottom: 0px;"
                                                    ng-change="vm.impPlan.system[sList.id].putIndicator ? (vm.impPlan.system[sList.id].putLevelId = '') : ''"
                                                    aria-label="putIndicator" ng-disabled="vm.impPlan.macroHeader">
                                                    {{system.name}}
                                                </md-checkbox>
                                            </span>
                                            <div>
                                                <select ng-disabled="checkPutLevelDisable(vm.impPlan.planStatus)"
                                                    ng-if="vm.impPlan.system[sList.id].putIndicator"
                                                    style="font-weight: normal;"
                                                    ng-model="vm.impPlan.system[sList.id].putLevelId"
                                                    class="form-control" ng-disabled="vm.impPlan.macroHeader">
                                                    <option value="">Select</option>
                                                    <!-- ng-hide="{{putObj.status === 'BACKUP' }}" -->
                                                    <option value="{{putObj.id}}"
                                                        ng-class="{'status-hidden': putObj.status === 'BACKUP'}"
                                                        ng-if="putObj.id != putObj.systemId.defalutPutLevel "
                                                        ng-selected="putObj.id === vm.impPlan.system[sList.id].putLevelId"
                                                        title="{{putObj.putDateTime | formattedDateTime}}"
                                                        ng-repeat="putObj in vm.putLevels[sList.id] track by $index">
                                                        {{ putObj.putLevel }}
                                                    </option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <label>IPL required
                                            <span class="requiredField">*</span>
                                        </label>
                                        <md-input-container class="md-icon-float md-block">
                                            <md-radio-group layout="row"
                                                ng-model="vm.impPlan.system[sList.id].iplRequired"
                                                ng-selected="vm.impPlan.system[sList.id].iplRequired">
                                                <md-radio-button disablefield
                                                    ng-disabled="checkInsuDisable(vm.impPlan.planStatus)" value="Yes">
                                                    Yes</md-radio-button>
                                                <md-radio-button disablefield
                                                    ng-disabled="checkInsuDisable(vm.impPlan.planStatus)" value="No">No
                                                </md-radio-button>
                                            </md-radio-group>
                                        </md-input-container>
                                    </div>
                                    <div class="col-md-3">
                                        <label>Special Load Instruction for TSD
                                            <span ng-if="vm.impPlan.system[sList.id].iplRequired == 'Yes' || vm.rflag "
                                                class="requiredField">*</span>
                                        </label>
                                        <md-input-container class="md-icon-float md-block spacingTwo">
                                            <textarea ng-disabled="checkInsuDisable(vm.impPlan.planStatus)"
                                                name="loadInstruction_{{sList.id}}" aria-label="loadInstruction"
                                                ng-model="vm.impPlan.system[sList.id].loadInstruction"></textarea>
                                        </md-input-container>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-3">
                                        <label>Preload
                                            <span class="requiredField">*</span>
                                        </label>
                                        <md-input-container class="md-icon-float md-block">
                                            <md-radio-group layout="row" ng-model="vm.impPlan.system[sList.id].preload"
                                                ng-selected="vm.impPlan.system[sList.id].preload">
                                                <md-radio-button disablefield value="Yes"
                                                    ng-disabled="userRole == 'DLCoreChangeTeam'">Yes</md-radio-button>
                                                <md-radio-button disablefield value="No"
                                                    ng-disabled="userRole == 'DLCoreChangeTeam'">No</md-radio-button>
                                            </md-radio-group>
                                        </md-input-container>
                                    </div>
                                    <div class="col-md-3" ng-if="vm.impPlan.system[sList.id].preload === 'Yes'">
                                        <label>Code activated
                                            <span class="requiredField">*</span>
                                        </label>
                                        <md-input-container class="md-icon-float md-block spacingTwo margin-top-none">
                                            <select disablefield name="codeActivate_{{sList.id}}"
                                                ng-model="vm.impPlan.system[sList.id].preloadDesc" class="form-control">
                                                <option value="" ng-if="false">Select</option>
                                                <option ng-value="preloadOption.value"
                                                    ng-repeat="preloadOption in vm.preloadOptions"
                                                    ng-selected="preloadOption.value == vm.responseData.system[sList.id].preloadDesc">
                                                    {{ preloadOption.value }}
                                                </option>
                                            </select>
                                        </md-input-container>
                                    </div>
                                    <div class="col-md-3" ng-if="vm.impPlan.system[sList.id].preload === 'Yes'">
                                        <label>Justification for preload
                                            <span class="requiredField">*</span>
                                        </label>
                                        <md-input-container class="md-icon-float md-block spacingTwo"
                                            style="margin-top:5px;">
                                            <textarea disablefield name="description_{{sList.id}}"
                                                aria-label="preloadjust"
                                                ng-model="vm.impPlan.system[sList.id].preloadJust"></textarea>
                                        </md-input-container>
                                    </div>
                                    <div ng-if="userRole != 'QA'" class="col-md-3">
                                        <label class="">DBCR #
                                            <!--span class="requiredField">*</span-->
                                            <a ng-click="addDbcrNum($event, sList.id, sList.name)"
                                                ng-if="!vm.impPlan.macroHeader">
                                                <u>Manage</u>
                                            </a>
                                        </label>
                                        <!-- <div class="input-group" style="width: 100%;">
                                            <input disablefield system-disable="{{disableSystemStatus}}" type="text" ng-model="vm.systemDBCR[sList.id]" aria-label="dbcr" class="form-control" readonly>
                                            <span class="input-group-addon" ng-click="addDbcrNum($event, sList.id, sList.name)">
                                                <i class="fa fa-plus-square" style="color:#000;"></i>
                                            </span>
                                        </div> -->
                                        <div class="dbcr-item" ng-if="vm.systemDBCR[sList.id].length > 0"
                                            ng-disabled="userRole == 'DLCoreChangeTeam'">
                                            <span ng-repeat="dbcrObj in vm.systemDBCR[sList.id] track by $index">
                                                <b ng-if="dbcrObj.mandatory == 'Y'">{{dbcrObj.dbcrName}}</b>
                                                <span ng-if="dbcrObj.mandatory != 'Y'">{{dbcrObj.dbcrName}}</span>
                                                <span ng-if="$index != (vm.systemDBCR[sList.id].length-1)">,
                                                    &nbsp;</span>
                                            </span>
                                        </div>
                                        <div class="dbcr-item-empty"
                                            ng-if="!vm.systemDBCR[sList.id] || vm.systemDBCR[sList.id].length === 0">

                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-3">
                                        <label>QA Functional Tester
                                        </label>
                                        <!-- <md-input-container  class="md-icon-float md-block multipleSelect2">
                                                       <select  name="qafunctionaltester" select2singleqa  ng-model="vm.impPlan.system[sList.id].qaFunctionalTesters" class="form-control" multiple="multiple" aria-label="qafunctionaltester">
                                                           <option ng-value="item.id" ng-attr-title="{{item.id}}"  ng-repeat="item in vm.qaFunctionalTesterList | orderBy: 'displayName'">{{ item.displayName }}
                                                           </option>
                                                       </select>
                                                   </md-input-container> -->
                                        <md-input-container class="md-icon-float md-block multipleSelect2">

                                            <select ng-disabled="showQAFunctional(vm.impPlan.planStatus)" id="qaList"
                                                name="qafunctionaltester" select2singleqa
                                                ng-model="vm.impPlan.system[sList.id].qaFunctionalTesters"
                                                class="form-control" multiple="multiple"
                                                aria-label="qafunctionaltester">
                                                <option ng-value="item.id"
                                                    ng-repeat="item in vm.qaFunctionalTesterList | orderBy:'displayName'"
                                                    ng-selected="vm.impPlan.system[sList.id].qaFunctionalTesters.indexOf(item.id)>=0">
                                                    {{ item.displayName }}
                                                </option>
                                            </select>
                                        </md-input-container>
                                    </div>
                                    <div class="col-md-3">
                                        <label>Special instructions for QA Functional Tester</label>
                                        <md-input-container class="md-icon-float md-block spacingTwo">
                                            <textarea name="loadQaInstruction_{{sList.id}}"
                                                aria-label="loadQaInstruction"
                                                ng-disabled="userRole == 'DLCoreChangeTeam'"
                                                ng-model="vm.impPlan.system[sList.id].specialInstructionQA"></textarea>
                                        </md-input-container>
                                    </div>
                                    <div class="col-md-3">
                                        <label>Load attendee phone number
                                            <span ng-if="vm.impPlan.rfcFlag" class="requiredField">*</span>
                                        </label>
                                        <input type="text" maxlength="15" class="form-control" ng-intl-tel-input
                                            data-default-country='us' name="loadAttendeeContact"
                                            aria-label="loadAttendeeContact"
                                            ng-model="vm.impPlan.system[sList.id].loadAttendeeContact" />
                                        <span class="help-block " style="color:red;margin:0px"
                                            ng-show="vm.impPlanForm.loadAttendeeContact.$invalid && vm.impPlanForm.loadAttendeeContact.$touched">Invalid
                                            contact number</span>
                                    </div>
                                </div>
                            </fieldset>
                        </div>
                        <div class="col-md-12 row">
                            <fieldset>
                                <legend>
                                    ADL Details
                                </legend>
                                <div class="row">
                                    <div class="col-md-4">
                                        <label>Development lead name
                                        </label>
                                        <md-input-container class="md-icon-float md-block mdIChange">
                                            <input type="text" aria-label="leadname" ng-model="vm.impPlan.leadName"
                                                style="color: green;font-weight: bold;" disabled />
                                        </md-input-container>
                                        <input type="hidden" aria-label="leadid" ng-model="vm.impPlan.leadId"
                                            ng-init="vm.impPlan.leadId=vm.leadId" />
                                    </div>
                                    <div class="col-md-4">
                                        <label>Development lead phone number
                                            <span class="requiredField">*</span>
                                        </label>
                                        <input ng-disabled="userRole == 'QA' || userRole == 'DLCoreChangeTeam'"
                                            type="text" maxlength="15" class="form-control" ng-intl-tel-input
                                            name="devLeadContact" aria-label="leadcontact"
                                            ng-model="vm.impPlan.leadContact" />
                                        <span class="help-block" style="color:red;margin:0px"
                                            ng-show="vm.impPlanForm.devLeadContact.$invalid && vm.impPlanForm.devLeadContact.$touched">Invalid
                                            contact number</span>
                                    </div>
                                    <div class="col-md-4">
                                        <label>Other contact</label>
                                        <md-input-container class="md-icon-float md-block mdIChange">
                                            <textarea disablefield name="otherContact" aria-label="othcontact"
                                                ng-model="vm.impPlan.othContact"
                                                ng-disabled="userRole == 'DLCoreChangeTeam'"></textarea>
                                        </md-input-container>
                                    </div>
                                </div>
                            </fieldset>
                        </div>
                        <div style="position:absolute;right: 0px;bottom:-15px;z-index: 10;">
                            <md-button ng-click="goBack()" aria-label="cancelBtn" class="md-raised  planCancelBtn"
                                ng-disabled="http_loading" style="background: white;color: black;">
                                Cancel
                            </md-button>
                            <md-button ng-click="vm.submitImpPlanForm(vm.impPlan, $event)" class="md-raised planSaveBtn"
                                aria-label="planSaveBtn" ng-disabled="vm.updateButtonDisabled"
                                style="background: #009688;color: white;">
                                <!--<i class="fa fa-save"></i> -->
                                <span ng-if="vm.loader.update">
                                    <i class="fa fa-spinner fa-pulse" style="color:white"></i>
                                </span>
                                <span ng-if="!vm.loader.update">Update</span>
                            </md-button>
                        </div>
                    </md-content>
                </form>
            </div>
            <div ng-show="!planAuthorize" class="well"
                style="background-color:#fff;text-align:center;font-size:20px;padding:100px 0px;">
                <b>This Plan is Not Authorized</b>
            </div>
        </div>
    </div>
</section>
